[{"path":"https://darwin-eu.github.io/CodelistGenerator/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to CodelistGenerator","title":"Contributing to CodelistGenerator","text":"submit pull request package, please first file issue make sure pull request required general approach agreed upon. preparing pull request, please make sure make use PackageMaintenance file. particular importance: * Follow style guide * Make sure code covered appropriate unit tests. pull request reduce code coverage. * Ensure devtools::check() passes","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"creating-a-codelist-for-dementia","dir":"Articles","previous_headings":"","what":"Creating a codelist for dementia","title":"01 Introduction to CodelistGenerator","text":"example going generate candidate codelist dementia, looking codes condition domain.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"getting-the-omop-cdm-vocabularies","dir":"Articles","previous_headings":"","what":"Getting the OMOP CDM vocabularies","title":"01 Introduction to CodelistGenerator","text":"ready access database data OMOP CDM format (necessarily contain vocabulary tables), first need obtain OMOP CDM vocabularies https://athena.ohdsi.org. downloaded, can make vocabulary database like : structure tables described detail : https://ohdsi.github.io/CommonDataModel/cdm53.html#Vocabulary_Tables","code":"# path to directory of unzipped files vocab.folder <- Sys.getenv(\"omop_cdm_vocab_path\")   concept <- read_delim(paste0(vocab.folder, \"/CONCEPT.csv\"),   \"\\t\",   escape_double = FALSE, trim_ws = TRUE ) conceptRelationship <- read_delim(paste0(vocab.folder, \"/CONCEPT_RELATIONSHIP.csv\"),   \"\\t\",   escape_double = FALSE, trim_ws = TRUE ) conceptAncestor <- read_delim(paste0(vocab.folder, \"/CONCEPT_ANCESTOR.csv\"),   \"\\t\",   escape_double = FALSE, trim_ws = TRUE ) conceptSynonym <- read_delim(paste0(vocab.folder, \"/CONCEPT_SYNONYM.csv\"),   \"\\t\",   escape_double = FALSE, trim_ws = TRUE ) vocabulary <- read_delim(paste0(vocab.folder, \"/VOCABULARY.csv\"),   \"\\t\",   escape_double = FALSE, trim_ws = TRUE )  db <- dbConnect(RSQLite::SQLite(), \":memory:\") dbWriteTable(db, \"concept\", concept, overwrite = TRUE) dbWriteTable(db, \"conceptRelationship\", conceptRelationship, overwrite = TRUE) dbWriteTable(db, \"conceptAncestor\", conceptAncestor, overwrite = TRUE) dbWriteTable(db, \"conceptSynonym\", conceptSynonym, overwrite = TRUE) dbWriteTable(db, \"vocabulary\", vocabulary) rm(concept, conceptRelationship, conceptAncestor, conceptSynonym, vocabulary) vocabularyDatabaseSchema <- \"main\""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"check-version-of-the-vocabularies","dir":"Articles","previous_headings":"","what":"Check version of the vocabularies","title":"01 Introduction to CodelistGenerator","text":"important note results CodelistGenerator specific particular version OMOP CDM vocabularies. can see version vocabulary used like ","code":"getVocabVersion(db=db,                 vocabularyDatabaseSchema=vocabularyDatabaseSchema) #> [1] \"v5.0 22-JUN-22\""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"codelist-from-dementia-4182210-and-its-descendants","dir":"Articles","previous_headings":"","what":"Codelist from “Dementia” (4182210) and its descendants","title":"01 Introduction to CodelistGenerator","text":"simplest approach identifying potential codes take high-level code include descendants. looks pick relevant codes. , approach misses codes descendant 4182210. example, codes “Wandering due dementia” (37312577; https://athena.ohdsi.org/search-terms/terms/37312577) “Anxiety due dementia” (37312031; https://athena.ohdsi.org/search-terms/terms/37312031) picked .","code":"codesFromDescendants <- tbl(   db,   sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".conceptAncestor\"   )) ) %>%   filter(ancestor_concept_id == \"4182210\") %>%   select(\"descendant_concept_id\") %>%   rename(\"concept_id\" = \"descendant_concept_id\") %>%   left_join(tbl(db, sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".concept\"   )))) %>%   select(     \"concept_id\", \"concept_name\",     \"domain_id\", \"vocabulary_id\"   ) %>%   collect() datatable(codesFromDescendants,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"generating-a-candidate-codelist-using-codelist-generator","dir":"Articles","previous_headings":"","what":"Generating a candidate codelist using Codelist Generator","title":"01 Introduction to CodelistGenerator","text":"try include terms included can use CodelistGenerator. First, let’s simple search single keyword “dementia”, including descendants identified codes. difference codelist one 4182210 descendants? extra codes picked CodelistGenerator?","code":"dementiaCodes1 <- getCandidateCodes(   keywords = \"dementia\",   domains = \"Condition\",   includeDescendants = TRUE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(dementiaCodes1,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) ) codeComparison <- compareCodelists(   codesFromDescendants,   dementiaCodes1 ) kable(codeComparison %>%   group_by(codelist) %>%   tally()) datatable(codeComparison %>%   filter(codelist == \"Only codelist_2\"), rownames = FALSE, options = list(   pageLength = 10,   lengthMenu = c(10, 20, 50) ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a01_Introduction_to_CodelistGenerator.html","id":"review-mappings-from-non-standard-vocabularies","dir":"Articles","previous_headings":"","what":"Review mappings from non-standard vocabularies","title":"01 Introduction to CodelistGenerator","text":"Perhaps want see ICD10CM codes map candidate codelist. can get running","code":"icdMappings <- showMappings(   candidateCodelist = dementiaCodes4,   nonStandardVocabularies = \"ICD10CM\",   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(icdMappings,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) ) readMappings <- showMappings(   candidateCodelist = dementiaCodes4,   nonStandardVocabularies = \"Read\",   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(readMappings,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"mock-vocabulary-database","dir":"Articles","previous_headings":"","what":"Mock vocabulary database","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"Let´s say mock vocabulary database hypothetical concepts relationships.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"search-for-exact-keyword-match","dir":"Articles","previous_headings":"","what":"Search for exact keyword match","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"find “Musculoskeletal disorder” can search like Note, also identify based partial match","code":"codes <- getCandidateCodes(   keywords = \"Musculoskeletal disorder\",   domains = \"Condition\",   includeDescendants = FALSE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes) codes <- getCandidateCodes(   keywords = \"Musculoskeletal\",   domains = \"Condition\",   includeDescendants = FALSE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"add-descendants","dir":"Articles","previous_headings":"","what":"Add descendants","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"include descendants identified code, can set includeDescendants TRUE","code":"kable(getCandidateCodes(   keywords = \"Musculoskeletal disorder\",   domains = \"Condition\",   includeDescendants = TRUE,   db = db,   vocabularyDatabaseSchema = \"main\" ))"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"multiple-search-terms","dir":"Articles","previous_headings":"","what":"Multiple search terms","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"can also search multiple keywords time, picked following search","code":"codes <- getCandidateCodes(   keywords = c(     \"Musculoskeletal disorder\",     \"arthritis\",     \"arthrosis\"   ),   domains = \"Condition\",   includeDescendants = FALSE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"add-ancestor","dir":"Articles","previous_headings":"","what":"Add ancestor","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"include ancestors one level identified concepts can set includeAncestor TRUE","code":"codes <- getCandidateCodes(   keywords = \"Osteoarthritis of knee\",   includeAncestor = TRUE,   domains = \"Condition\",   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"searches-with-multiple-words","dir":"Articles","previous_headings":"","what":"Searches with multiple words","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"can also find concepts multiple words even different order. example, search “Knee osteoarthritis” pick “Osteoarthritis knee”.","code":"codes <- getCandidateCodes(   keywords = \"Knee osteoarthritis\",   domains = \"Condition\",   includeDescendants = TRUE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"with-exclusions","dir":"Articles","previous_headings":"","what":"With exclusions","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"can also exclude specific terms","code":"codes <- getCandidateCodes(   keywords = \"arthritis\",   exclude = \"Hip osteoarthritis\",   domains = \"Condition\",   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"search-using-synonyms","dir":"Articles","previous_headings":"","what":"Search using synonyms","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"can also pick codes based synonyms. case “Arthritis” synonym “Osteoarthrosis” search primary name concept associated synonyms pick synonym included. , case, can get result searching via synonyms. case using searchViaSynonyms=TRUE, “Arthritis” (gets identified first) synonym “Osteoarthrosis”, based synonym can also include “Osteoarthrosis” concept.","code":"codes <- getCandidateCodes(   keywords = \"osteoarthrosis\",   domains = \"Condition\",   searchInSynonyms = TRUE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes) codes <- getCandidateCodes(   keywords = \"arthritis\",   domains = \"Condition\",   searchViaSynonyms = TRUE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"fuzzy-matches-instead-of-only-exact-matches","dir":"Articles","previous_headings":"","what":"Fuzzy matches instead of only exact matches","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"also picked “Osteoarthrosis” fuzzy matching allows differences spelling.","code":"codes <- getCandidateCodes(   keywords = \"arthritis\",   domains = \"Condition\",   fuzzyMatch = TRUE,   maxDistanceCost = 0.2,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"search-via-non-standard","dir":"Articles","previous_headings":"","what":"Search via non-standard","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"also picked “Osteoarthrosis” searching via non-standard.","code":"codes <- getCandidateCodes(   keywords = c(\"arthritis\", \"arthropathy\"),   domains = \"Condition\",   searchNonStandard = TRUE,   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02a_Options_for_CodelistGenerator.html","id":"search-for-both-standard-and-non-standard-concepts","dir":"Articles","previous_headings":"","what":"Search for both standard and non-standard concepts","title":"02 Options for CodelistGenerator (with mock vocabulary)","text":"can also include non-standard codes results like ","code":"codes <- getCandidateCodes(   keywords = c(     \"Musculoskeletal disorder\",     \"arthritis\",     \"arthropathy\",     \"arthrosis\"   ),   domains = \"Condition\",   standardConcept = c(\"Standard\", \"Non-standard\"),   db = db,   vocabularyDatabaseSchema = \"main\" )  kable(codes) dbDisconnect(db)"},{"path":[]},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"creating-a-codelist-for-osteoarthritis","dir":"Articles","previous_headings":"Set up","what":"Creating a codelist for osteoarthritis","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"example going generate candidate codelist osteoarthritis, looking impact alternative search strategies.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"set-up-1","dir":"Articles","previous_headings":"Set up","what":"Set up","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"","code":"library(DBI) library(RPostgres) # postgres database connection details serverDbi <- Sys.getenv(\"server\") user <- Sys.getenv(\"user\") password <- Sys.getenv(\"password\") port <- Sys.getenv(\"port\") host <- Sys.getenv(\"host\")  db <- dbConnect(RPostgres::Postgres(),   dbname = serverDbi,   port = port,   host = host,   user = user,   password = password )  # name of vocabulary schema vocabularyDatabaseSchema <- \"vocabulary\""},{"path":[]},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"condition-domain-without-searching-via-or-in-synonyms-without-fuzzy-match-with-exclusions-without-including-descendants-or-ancestor","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Condition domain, without searching via or in synonyms, without fuzzy match, with exclusions, without including descendants or ancestor","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"start search “osteoarthritis”, excluding “post-infection” “post-traumatic”, without searching synonyms, without searching via non-standard codes, without fuzzy matching, without including descendants direct ancestor included concepts. candidate codelist?","code":"oaCodes1 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(oaCodes1,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 250)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"including-descendants","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Including descendants","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now also include descendants included concepts. new codes pick ?","code":"oaCodes2 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = TRUE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To2 <- compareCodelists(oaCodes1, oaCodes2) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To2,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"including-observation-domain","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Including observation domain","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now search observation domain well condition domain. new codes pick ?","code":"oaCodes3 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = c(\"Condition\", \"Observation\"),   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To3 <- compareCodelists(oaCodes1, oaCodes3) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To3,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"search-synonyms-both-in-and-via","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Search synonyms (both in and via)","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now search concept synonym table identify concepts include. new codes pick ?","code":"oaCodes4 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = TRUE,   searchViaSynonyms = TRUE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To4 <- compareCodelists(oaCodes1, oaCodes4) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To4,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"search-via-non-standard","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Search via non-standard","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now search concept synonym table identify concepts include. new codes pick ?","code":"oaCodes5 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = TRUE,   fuzzyMatch = FALSE,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To5 <- compareCodelists(oaCodes1, oaCodes5) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To5,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"using-a-fuzzy-search","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Using a fuzzy search","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now use approximate search. See https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/agrep details (running hood). Note, using defaults 0.1 substitutions, deletions, insertions. new codes pick ?","code":"oaCodes6 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = TRUE,   maxDistanceCost = 0.1,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To6 <- compareCodelists(oaCodes1, oaCodes6) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To6,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"using-a-more-generous-fuzzy-search","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Using a more generous fuzzy search","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"widen approximate searching, increasing maximum distance allowed match 0.2 substitutions, deletions, insertions. new codes pick ?","code":"oaCodes7 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = TRUE,   maxDistanceCost = 0.2,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To7 <- compareCodelists(oaCodes1, oaCodes7) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To7,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a02b_Options_for_CodelistGenerator.html","id":"include-ancestor","dir":"Articles","previous_headings":"Set up > Search strategies","what":"Include ancestor","title":"02 Options for CodelistGenerator(with full vocabulary)","text":"Now include direct ancestor included terms. new codes pick ?","code":"oaCodes8 <- get_candidate_codes(   keywords = \"osteoarthritis\",   domains = \"Condition\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   maxDistanceCost = 0.1,   exclude = c(     \"post-infection\",     \"post-traumatic\"   ),   includeDescendants = FALSE,   includeAncestor = TRUE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) newCodes1To8 <- compareCodelists(oaCodes1, oaCodes8) %>%   filter(codelist == \"Only codelist 2\") %>%   select(-\"codelist\")  datatable(newCodes1To8,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a03_CodelistGenerator_extracting_procedure_codes.html","id":"creating-a-codelists-for-colonoscopy","dir":"Articles","previous_headings":"","what":"Creating a codelists for colonoscopy","title":"03 Generating a codelist for procedures","text":"vignette going create codelists identifying colonoscopy. example going generate candidate codelists looking codes either procedure measurement domain.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a03_CodelistGenerator_extracting_procedure_codes.html","id":"connecting-to-a-database-with-the-omop-cdm-vocabularies","dir":"Articles","previous_headings":"","what":"Connecting to a database with the OMOP CDM vocabularies","title":"03 Generating a codelist for procedures","text":"described previously alternative ways link vocabularies. connection existing database can made like :","code":"library(DBI) library(RPostgres) # postgres database connection details serverDbi <- Sys.getenv(\"server\") user <- Sys.getenv(\"user\") password <- Sys.getenv(\"password\") port <- Sys.getenv(\"port\") host <- Sys.getenv(\"host\")  db <- dbConnect(RPostgres::Postgres(),   dbname = serverDbi,   port = port,   host = host,   user = user,   password = password )  # name of vocabulary schema vocabularyDatabaseSchema <- \"vocabulary\""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a03_CodelistGenerator_extracting_procedure_codes.html","id":"codelist-from-colonoscopy-and-its-descendants","dir":"Articles","previous_headings":"","what":"Codelist from “colonoscopy” and its descendants","title":"03 Generating a codelist for procedures","text":"First can follow approach identifying high-level codes include descendants.","code":"library(dplyr) library(dbplyr) library(stringr) library(DT) library(kableExtra) codesFromDescendants <- tbl(   db,   sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".concept_ancestor\"   )) ) %>%   filter(ancestor_concept_id %in% c(\"4249893\", \"937652\", \"40480729\")) %>%   select(\"descendant_concept_id\") %>%   rename(\"concept_id\" = \"descendant_concept_id\") %>%   left_join(tbl(db, sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".concept\"   )))) %>%   select(     \"concept_id\", \"concept_name\",     \"domain_id\", \"vocabulary_id\"   ) %>%   collect() datatable(codesFromDescendants,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a03_CodelistGenerator_extracting_procedure_codes.html","id":"generating-a-candidate-codelist-using-codelist-generator","dir":"Articles","previous_headings":"","what":"Generating a candidate codelist using Codelist Generator","title":"03 Generating a codelist for procedures","text":"can also use CodelistGenerator generate candidate codelist colonoscopy. Let’s search single keyword “colonoscopy” without exclusions including descendants difference codelist one based descendants? extra codes picked CodelistGenerator? , codes specified codes descendants picked CodelistGenerator?","code":"library(CodelistGenerator) colonoscopyCodes2 <- getCandidateCodes(   keywords = \"colonoscopy\",   domains = c(\"Procedure\", \"Measurement\"),   exclude = NULL,   includeDescendants = FALSE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(colonoscopyCodes2,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) ) codeComparison <- compareCodelists(   codesFromDescendants,   colonoscopyCodes2 ) kable(codeComparison %>%   group_by(codelist) %>%   tally()) datatable(codeComparison %>%   filter(codelist == \"Only codelist 2\"), rownames = FALSE, options = list(   pageLength = 10,   lengthMenu = c(10, 20, 50) ) ) datatable(codeComparison %>%   filter(codelist == \"Only codelist 1\"), rownames = FALSE, options = list(   pageLength = 10,   lengthMenu = c(10, 20, 50) ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a04_codelists_for_medications.html","id":"creating-a-codelists-for-metformin","dir":"Articles","previous_headings":"","what":"Creating a codelists for metformin","title":"04 Codelists for medications","text":"vignette going create codelists identifying metformin, looking drug domain.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a04_codelists_for_medications.html","id":"connecting-to-a-database-with-the-omop-cdm-vocabularies","dir":"Articles","previous_headings":"","what":"Connecting to a database with the OMOP CDM vocabularies","title":"04 Codelists for medications","text":"","code":"library(DBI) library(RPostgres) # postgres database connection details serverDbi <- Sys.getenv(\"server\") user <- Sys.getenv(\"user\") password <- Sys.getenv(\"password\") port <- Sys.getenv(\"port\") host <- Sys.getenv(\"host\")  db <- dbConnect(RPostgres::Postgres(),   dbname = serverDbi,   port = port,   host = host,   user = user,   password = password )  # name of vocabulary schema vocabularyDatabaseSchema <- \"vocabulary\""},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a04_codelists_for_medications.html","id":"codelist-from-metformin-and-its-descendants","dir":"Articles","previous_headings":"","what":"Codelist from “metformin” and its descendants","title":"04 Codelists for medications","text":"First can follow approach identifying high-level codes include descendants.","code":"library(dplyr) library(dbplyr) library(stringr) library(DT) library(kableExtra) codesFromDescendants <- tbl(   db,   sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".concept_ancestor\"   )) ) %>%   filter(ancestor_concept_id %in% c(\"1503297\")) %>%   select(\"descendant_concept_id\") %>%   rename(\"concept_id\" = \"descendant_concept_id\") %>%   inner_join(tbl(db, sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".concept\"   )))) %>%   select(     \"concept_id\", \"concept_name\",     \"domain_id\", \"vocabulary_id\"   ) %>%   collect() datatable(codesFromDescendants,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/articles/a04_codelists_for_medications.html","id":"generating-a-candidate-codelist-using-codelist-generator","dir":"Articles","previous_headings":"","what":"Generating a candidate codelist using Codelist Generator","title":"04 Codelists for medications","text":"can also use CodelistGenerator generate candidate codelist metformin, Let’s search single keyword “metformin”, including descendants. difference codelist one based descendants? extra codes picked CodelistGenerator?","code":"library(CodelistGenerator) metforminCodes2 <- getCandidateCodes(   keywords = \"metformin\",   domains = c(\"Drug\"),   includeDescendants = TRUE,   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) datatable(metforminCodes2,   rownames = FALSE,   options = list(     pageLength = 10,     lengthMenu = c(10, 20, 50)   ) ) codeComparison <- compareCodelists(codesFromDescendants, metforminCodes2) kable(codeComparison %>%   group_by(codelist) %>%   tally()) datatable(codeComparison %>%   filter(codelist == \"Only codelist 2\"), rownames = FALSE, options = list(   pageLength = 10,   lengthMenu = c(10, 20, 50) ) )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Edward Burn. Author, maintainer.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Burn E (2022). CodelistGenerator: Generate Candidate Codelists OMOP CDM. R package version 0.9.1, https://darwin-eu.github.io/CodelistGenerator/.","code":"@Manual{,   title = {CodelistGenerator: Generate Candidate Codelists for the OMOP CDM},   author = {Edward Burn},   year = {2022},   note = {R package version 0.9.1},   url = {https://darwin-eu.github.io/CodelistGenerator/}, }"},{"path":[]},{"path":"https://darwin-eu.github.io/CodelistGenerator/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Generate Candidate Codelists for the OMOP CDM","text":"CodelistGenerator used create candidate set codes helping define patient cohorts data mapped OMOP common data model. little like process systematic review, idea specified search strategy, CodelistGenerator identify set concepts may relevant, screened remove irrelevant codes.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Generate Candidate Codelists for the OMOP CDM","text":"can install development version CodelistGenerator like :","code":"install.packages(\"remotes\") remotes::install_github(\"darwin-eu/CodelistGenerator\")"},{"path":"https://darwin-eu.github.io/CodelistGenerator/index.html","id":"connecting-to-the-omop-cdm-vocabularies","dir":"","previous_headings":"","what":"Connecting to the OMOP CDM vocabularies","title":"Generate Candidate Codelists for the OMOP CDM","text":"","code":"# First load required libraries library(DBI) library(dplyr) library(dbplyr) library(CodelistGenerator)  # Note that you will also need another library, like RPostgres, to make your database connection # example with postgres database connection details serverDbi<-Sys.getenv(\"server\") user<-Sys.getenv(\"user\") password<- Sys.getenv(\"password\") port<-Sys.getenv(\"port\") host<-Sys.getenv(\"host\")  db <- DBI::dbConnect(RPostgres::Postgres(),                 dbname = serverDbi,                 port = port,                 host = host,                 user = user,                 password = password)  # name of vocabulary schema vocabularyDatabaseSchema<-Sys.getenv(\"vocabulary_schema\")"},{"path":"https://darwin-eu.github.io/CodelistGenerator/index.html","id":"example-search","dir":"","previous_headings":"","what":"Example search","title":"Generate Candidate Codelists for the OMOP CDM","text":"Every codelist specific version OMOP CDM vocabularies, can first check version. can search asthma like concept_id concept_name domain_id concept_class_id vocabulary_id found_from 252658 Intrinsic asthma without status asthmaticus condition clinical finding SNOMED initial search 252942 Asthmatic pulmonary eosinophilia condition clinical finding SNOMED initial search 256448 Chronic asthmatic bronchitis condition clinical finding SNOMED initial search 257581 Exacerbation asthma condition clinical finding SNOMED initial search 312950 IgE-mediated allergic asthma condition clinical finding SNOMED initial search 313236 Cough variant asthma condition clinical finding SNOMED initial search 316577 Poisoning antiasthmatic condition clinical finding SNOMED initial search 317009 Asthma condition clinical finding SNOMED initial search 443801 Exercise-induced asthma condition clinical finding SNOMED initial search 761844 Inhaled steroid-dependent asthma condition clinical finding SNOMED initial search Perhaps want exclude certain concepts part search strategy, case can added like concept_id concept_name domain_id concept_class_id vocabulary_id found_from 252658 Intrinsic asthma without status asthmaticus condition clinical finding SNOMED initial search 252942 Asthmatic pulmonary eosinophilia condition clinical finding SNOMED initial search 256448 Chronic asthmatic bronchitis condition clinical finding SNOMED initial search 257581 Exacerbation asthma condition clinical finding SNOMED initial search 312950 IgE-mediated allergic asthma condition clinical finding SNOMED initial search 313236 Cough variant asthma condition clinical finding SNOMED initial search 317009 Asthma condition clinical finding SNOMED initial search 443801 Exercise-induced asthma condition clinical finding SNOMED initial search 761844 Inhaled steroid-dependent asthma condition clinical finding SNOMED initial search 764677 Persistent asthma condition clinical finding SNOMED initial search can also see non-standard codes mapped , example standard_concept_name standard_vocabulary_id non_standard_concept_name non_standard_vocabulary_id Eosinophilic asthma SNOMED Pulmonary eosinophilia, elsewhere classified ICD10CM Eosinophilic asthma SNOMED Eosinophilic asthma ICD10CM Eosinophilic asthma SNOMED pulmonary eosinophilia, elsewhere classified ICD10CM Eosinophilic asthma SNOMED Pulmonary eosinophilia, elsewhere classified ICD10CM Cryptogenic pulmonary eosinophilia SNOMED Chronic eosinophilic pneumonia ICD10CM Simple pulmonary eosinophilia SNOMED Acute eosinophilic pneumonia ICD10CM Asthma SNOMED Asthma ICD10CM Asthma SNOMED unspecified asthma ICD10CM Asthma SNOMED Unspecified asthma ICD10CM Asthma SNOMED asthma ICD10CM","code":"dplyr::tbl(db, dplyr::sql(paste0(     \"SELECT * FROM \",     vocabularyDatabaseSchema,     \".vocabulary\"     ))) %>%     dplyr::rename_with(tolower) %>%     dplyr::filter(.data$vocabulary_id == \"None\") %>%     dplyr::select(\"vocabulary_version\") %>%     dplyr::collect() %>%     dplyr::pull() #> [1] \"v5.0 13-JUL-21\" asthma1<-getCandidateCodes(keywords=\"asthma\",                     domains = \"Condition\",                     db=db,                     vocabularyDatabaseSchema = vocabularyDatabaseSchema) head(asthma1, 10) asthma2<-getCandidateCodes(keywords=\"asthma\",                     domains = \"Condition\",                     exclude = \"Poisoning by antiasthmatic\",                     db=db,                     vocabularyDatabaseSchema = vocabularyDatabaseSchema) head(asthma2, 10) asthmaIcdMappings<-showMappings(candidateCodelist=asthma2,                      nonStandardVocabularies=\"ICD10CM\",                     db=db,                     vocabularyDatabaseSchema =  vocabularyDatabaseSchema) head(asthmaIcdMappings %>%         select(standard_concept_name,               standard_vocabulary_id,               non_standard_concept_name,               non_standard_vocabulary_id),      10)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/CodelistGenerator-package.html","id":null,"dir":"Reference","previous_headings":"","what":"CodelistGenerator: Generate Candidate Codelists for the OMOP CDM — CodelistGenerator-package","title":"CodelistGenerator: Generate Candidate Codelists for the OMOP CDM — CodelistGenerator-package","text":"Generate candidate codelist OMOP CDM based string matching. given search strategy, candidate codelist returned.","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/CodelistGenerator-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"CodelistGenerator: Generate Candidate Codelists for the OMOP CDM — CodelistGenerator-package","text":"Maintainer: Edward Burn edward.burn@ndorms.ox.ac.uk (ORCID)","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/compareCodelists.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare two codelists — compareCodelists","title":"Compare two codelists — compareCodelists","text":"Compare two codelists","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/compareCodelists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare two codelists — compareCodelists","text":"","code":"compareCodelists(codelist1, codelist2)"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/compareCodelists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare two codelists — compareCodelists","text":"codelist1 Output getCandidateCodes codelist2 Output getCandidateCodes","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/compareCodelists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare two codelists — compareCodelists","text":"tibble","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/compareCodelists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare two codelists — compareCodelists","text":"","code":"if (FALSE) { library(DBI) library(CodelistGenerator) db <- DBI::dbConnect(\" Your database connection here \") vocabularyDatabaseSchema <- \" Your vocabulary schema here \" asthmaCodes <- getCandidateCodes(   keywords = \"asthma\",   db = db,   vocabularyDatabaseSchema = \" Your vocabulary schema here \" ) persistantAsthmaCodes <- getCandidateCodes(   keywords = \"Persistent asthma\",   db = db,   vocabularyDatabaseSchema = \" Your vocabulary schema here \" ) compareCodelists(   codelist1 = asthmaCodes,   codelist2 = persistantAsthmaCodes ) }"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/downloadVocab.html","id":null,"dir":"Reference","previous_headings":"","what":"Download vocabulary tables — downloadVocab","title":"Download vocabulary tables — downloadVocab","text":"Download vocabulary tables","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/downloadVocab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download vocabulary tables — downloadVocab","text":"","code":"downloadVocab(   db,   vocabularyDatabaseSchema,   dirOut,   errorIfExists = TRUE,   verbose = FALSE )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/downloadVocab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download vocabulary tables — downloadVocab","text":"db Database connection via DBI::dbConnect() vocabularyDatabaseSchema Name database schema vocab tables dirOut Directory output files saved errorIfExists Either TRUE FALSE. TRUE, error thrown output database already exists. FALSE, output database overwritten exists. verbose Either TRUE FALSE. TRUE, progress reported.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/downloadVocab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download vocabulary tables — downloadVocab","text":"Apache arrow parquet files","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/downloadVocab.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download vocabulary tables — downloadVocab","text":"","code":"if (FALSE) { library(DBI) library(Arrow) library(CodelistGenerator) library(here) db <- generateMockVocabDb() dOut <- here()  downloadVocab(   db = db,   vocabularyDatabaseSchema = \"main\",   dirOut = dOut ) }"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/generateMockVocabDb.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate example vocabulary database — generateMockVocabDb","title":"Generate example vocabulary database — generateMockVocabDb","text":"Generate example vocabulary database","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/generateMockVocabDb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate example vocabulary database — generateMockVocabDb","text":"","code":"generateMockVocabDb(dbType = \"SQLite\")"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/generateMockVocabDb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate example vocabulary database — generateMockVocabDb","text":"dbType Character vector type memory database. Either 'SQL lite' 'duckdb'","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/generateMockVocabDb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate example vocabulary database — generateMockVocabDb","text":"DBIConnection SQLite database mock vocabulary","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/generateMockVocabDb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate example vocabulary database — generateMockVocabDb","text":"","code":"if (FALSE) { library(DBI) library(RSQLite) library(CodelistGenerator) db <- generateMockVocabDb() }"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/getCandidateCodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","title":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","text":"function generates set codes can considered creating phenotype using OMOP CDM.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/getCandidateCodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","text":"","code":"getCandidateCodes(   keywords,   db = NULL,   vocabularyDatabaseSchema = NULL,   arrowDirectory = NULL,   exclude = NULL,   domains = \"Condition\",   conceptClassId = NULL,   standardConcept = \"Standard\",   searchInSynonyms = FALSE,   searchViaSynonyms = FALSE,   searchNonStandard = FALSE,   fuzzyMatch = FALSE,   maxDistanceCost = 0.1,   includeDescendants = TRUE,   includeAncestor = FALSE,   verbose = FALSE )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/getCandidateCodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","text":"keywords Character vector words search . one word given (e.g. \"knee osteoarthritis\"), combinations words identified positions (e.g. \"osteoarthritis knee\") identified. db Database connection via DBI::dbConnect(). Required arrowDirectory NULL vocabularyDatabaseSchema Name database schema vocab tables arrowDirectory Path folder containing output Codelist_generator::importVocab() - five parquet files: 'concept', 'concept_ancestor', 'concept_relationship', 'concept_synonym', 'vocabulary. Required db NULL exclude Character vector words identify concepts exclude. domains Character vector one OMOP CDM domain. conceptClassId Character vector one concept class Concept standardConcept Character vector one \"Standard\", \"Classification\", \"Non-standard\". correspond flags used standard_concept field concept table cdm. searchInSynonyms Either TRUE FALSE. TRUE code also search using primary name concept table synonyms concept synonym table. searchViaSynonyms Either TRUE FALSE. TRUE code also search via concept synonym table. searchNonStandard Either TRUE FALSE. TRUE code also search via non-standard concepts. fuzzyMatch Either TRUE FALSE. TRUE fuzzy matching used, approximate matches identified. maxDistanceCost, maximum number/fraction match cost (generalized Levenshtein distance) fuzzy matching (see ??base::agrep details). includeDescendants Either TRUE FALSE. TRUE descendant concepts identified concepts included candidate codelist. includeAncestor Either TRUE FALSE. TRUE direct ancestor concepts identified concepts included candidate codelist. verbose Either TRUE FALSE. TRUE, progress reported.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/getCandidateCodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","text":"tibble","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/getCandidateCodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate candidate codelist for the OMOP CDM — getCandidateCodes","text":"","code":"if (FALSE) { library(DBI) library(CodelistGenerator) db <- DBI::dbConnect(\" Your database connection here \") vocabularyDatabaseSchema <- \" Your vocabulary schema here \" getCandidateCodes(   keywords = \"asthma\",   db = db,   vocabularyDatabaseSchema = vocabularyDatabaseSchema ) }"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/showMappings.html","id":null,"dir":"Reference","previous_headings":"","what":"Show mappings from non-standard vocabularies to standard — showMappings","title":"Show mappings from non-standard vocabularies to standard — showMappings","text":"Show mappings non-standard vocabularies standard","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/showMappings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show mappings from non-standard vocabularies to standard — showMappings","text":"","code":"showMappings(   candidateCodelist,   db = NULL,   vocabularyDatabaseSchema = NULL,   arrowDirectory = NULL,   nonStandardVocabularies = c(\"ATC\", \"ICD10CM\", \"ICD10PCS\", \"ICD9CM\", \"ICD9Proc\",     \"LOINC\", \"OPCS4\", \"Read\", \"RxNorm\", \"RxNorm Extension\", \"SNOMED\") )"},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/showMappings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show mappings from non-standard vocabularies to standard — showMappings","text":"candidateCodelist Dataframe db Database connection via DBI::dbConnect() vocabularyDatabaseSchema Name database schema vocab tables arrowDirectory Path folder containing output Codelist_generator::importVocab() - five parquet files: 'concept', 'concept_ancestor', 'concept_relationship', 'concept_synonym', 'vocabulary. Required db NULL nonStandardVocabularies Character vector","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/showMappings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show mappings from non-standard vocabularies to standard — showMappings","text":"tibble","code":""},{"path":"https://darwin-eu.github.io/CodelistGenerator/reference/showMappings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show mappings from non-standard vocabularies to standard — showMappings","text":"","code":"if (FALSE) { library(DBI) library(CodelistGenerator) db <- DBI::dbConnect(\" Your database connection here \") vocabularyDatabaseSchema <- \" Your vocabulary schema here \" asthma_codes <- get_candidate_codes(   keywords = \"asthma\",   db = db,   vocabularyDatabaseSchema = \" Your vocabulary schema here \" ) showMappings(   candidateCodelist = asthma_codes,   db = db,   vocabularyDatabaseSchema = \" Your vocabulary schema here \" ) }"}]
