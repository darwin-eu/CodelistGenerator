<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CodelistGenerator">
<title>Options for CodelistGenerator • CodelistGenerator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Options for CodelistGenerator">
<meta property="og:description" content="CodelistGenerator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CodelistGenerator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Introduction_to_CodelistGenerator.html">Introduction to CodelistGenerator</a>
    <a class="dropdown-item" href="../articles/Options_for_CodelistGenerator.html">Options for CodelistGenerator</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="Options_for_CodelistGenerator_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="Options_for_CodelistGenerator_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="Options_for_CodelistGenerator_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="Options_for_CodelistGenerator_files/datatables-binding-0.22/datatables.js"></script><link href="Options_for_CodelistGenerator_files/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="Options_for_CodelistGenerator_files/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="Options_for_CodelistGenerator_files/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="Options_for_CodelistGenerator_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="Options_for_CodelistGenerator_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Options for CodelistGenerator</h1>
            
      
      
      <div class="d-none name"><code>Options_for_CodelistGenerator.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="creating-a-codelist-for-osteoarthritis">Creating a codelist for osteoarthritis<a class="anchor" aria-label="anchor" href="#creating-a-codelist-for-osteoarthritis"></a>
</h2>
<p>For this example we are going to generate a candidate codelist for osteoarthritis.</p>
</div>
<div class="section level2">
<h2 id="set-up">Set up<a class="anchor" aria-label="anchor" href="#set-up"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsqlite.r-dbi.org" class="external-link">RSQLite</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># postgres database connection details</span>
<span class="va">server_dbi</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SERVER_DBI_FEB22"</span><span class="op">)</span>
<span class="va">user</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DB_USER_FEB22"</span><span class="op">)</span>
<span class="va">password</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DB_PASSWORD_FEB22"</span><span class="op">)</span>
<span class="va">port</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DB_PORT_FEB22"</span><span class="op">)</span>
<span class="va">host</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"DB_HOST_FEB22"</span><span class="op">)</span>

<span class="va">db</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">RPostgres</span><span class="fu">::</span><span class="fu">Postgres</span><span class="op">(</span><span class="op">)</span>,
                dbname <span class="op">=</span> <span class="va">server_dbi</span>,
                port <span class="op">=</span> <span class="va">port</span>,
                host <span class="op">=</span> <span class="va">host</span>,
                user <span class="op">=</span> <span class="va">user</span>,
                password <span class="op">=</span> <span class="va">password</span><span class="op">)</span>

<span class="co"># name of vocabulary schema</span>
<span class="va">vocabulary_database_schema</span><span class="op">&lt;-</span><span class="st">"omop21t2_cmbd"</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="search-strategies">Search strategies<a class="anchor" aria-label="anchor" href="#search-strategies"></a>
</h2>
<div class="section level3">
<h3 id="condition-domain-without-searching-synonyms-without-fuzzy-match-with-exclusions-without-including-descendants-or-ancestor">Condition domain, without searching synonyms, without fuzzy match, with exclusions, without including descendants or ancestor<a class="anchor" aria-label="anchor" href="#condition-domain-without-searching-synonyms-without-fuzzy-match-with-exclusions-without-including-descendants-or-ancestor"></a>
</h3>
<p>To start we will search for “osteoarthritis”, while excluding “post-infection” and “post-traumatic”, but without searching synonyms, without fuzzy match, and without including descendants or the direct ancestor of the included concepts.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes1</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What is the candidate codelist?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">oa_codes1</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">10</span>,
                         lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">250</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-dbe24ed129449225363a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-dbe24ed129449225363a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147"],[759878,759879,37108600,765256,37208265,759880,759881,759882,42534855,36712696,42534856,37117136,36712697,42534857,37117137,37108601,42534859,42534860,42539214,37399301,36684452,36684453,36684454,36684455,36684456,36684457,36684458,760570,36684459,760900,760901,37117087,37108770,37108771,37108902,37209320,37108903,37108918,37108919,37108920,42535069,42535128,35615108,37109099,37109100,37109101,72993,73840,75036,4115379,78505,80802,77631,79904,80183,4035439,4083694,4035440,4083695,4035441,4343918,4346972,4346973,4035756,4079749,4079750,4083696,4083698,4035442,4343919,4343920,4110738,4144996,4150309,4147779,4173669,37395586,36713091,4202790,4197476,4209089,4197477,36717301,42535499,36713098,36713099,36713100,36713101,36717302,36713102,36713103,36713104,37310643,37310642,762329,762330,36713109,36717036,36713110,36713111,4160051,4192894,80180,762486,4185423,40481943,42872530,44783204,45763782,45763783,45763784,45763792,45763793,45763794,45763799,45763800,45763801,45773205,45763802,45763803,45763804,45763809,45763810,45773206,45763812,45763815,45763816,45763817,45773207,45763819,45765977,45765978,45765979,45765980,45765981,46273178,37018720,37017534,37399463,42539033,42537576,4327181,37203942,37311900,37311899,37311898,44808844],["Osteoarthritis of right acromioclavicular joint","Osteoarthritis of right glenohumeral joint","Osteoarthritis of right sternoclavicular joint","Osteoarthritis of bilateral acromioclavicular joints","Bilateral osteoarthritis of sternoclavicular joints","Osteoarthritis of bilateral glenohumeral joints","Osteoarthritis of left acromioclavicular joint","Osteoarthritis of left glenohumeral joint","Osteoarthritis of left sternoclavicular joint","Osteoarthritis of right foot","Osteoarthritis of midtarsal joint of right foot","Osteoarthritis of first metatarsophalangeal joint of right foot","Osteoarthritis of left foot","Osteoarthritis of midtarsal joint of left foot","Osteoarthritis of first metatarsophalangeal joint of left foot","Osteoarthritis of right foot due to trauma","Osteoarthritis of left foot due to trauma","Osteoarthritis of right sacroiliac joint","Osteoarthritis of left sacroiliac joint","Advanced collapse of scapholunate joint due to osteoarthritis","Bilateral osteoarthritis of feet","Bilateral osteoarthritis of ankles","Bilateral osteoarthritis of knees","Osteoarthritis of bilateral hip joints","Bilateral osteoarthritis of finger of hands","Osteoarthritis of joint of bilateral hands","Bilateral wrist osteoarthritis","Osteoarthritis of bilateral elbows","Bilateral shoulder osteoarthritis","Osteoarthritis of finger joint of left hand","Osteoarthritis of finger joint of right hand","Osteoarthritis of right patellofemoral joint","Osteoarthritis of left patellofemoral joint","Bilateral patellofemoral joint osteoarthritis","Osteoarthritis of right temporomandibular joint","Bilateral osteoarthritis of temporomandibular joints","Osteoarthritis of left temporomandibular joint","Osteoarthritis of left subtalar joint","Osteoarthritis of right subtalar joint","Bilateral osteoarthritis of first metatarsophalangeal joint of feet","Bilateral osteoarthritis of sacroiliac joints","Bilateral osteoarthritis of feet due to trauma","Bilateral osteoarthritis of midtarsal joints of feet","Osteoarthritis of left ankle due to trauma","Osteoarthritis of right ankle due to trauma","Osteoarthritis of joint right ankle","Localized, primary osteoarthritis","Localized, primary osteoarthritis of the shoulder region","Localized, primary osteoarthritis of the hand","Localized, primary osteoarthritis of the pelvic region and thigh","Localized, primary osteoarthritis of the ankle and/or foot","Localized, secondary osteoarthritis","Localized, secondary osteoarthritis of the shoulder region","Localized, secondary osteoarthritis of the hand","Localized, secondary osteoarthritis of the ankle and/or foot","Idiopathic osteoarthritis","Osteoarthritis of spinal facet joint","Osteoarthritis of acromioclavicular joint","Osteoarthritis of elbow","Osteoarthritis of wrist","Osteoarthritis of finger joint","Osteoarthritis of distal interphalangeal joint","Osteoarthritis of proximal interphalangeal joint","Osteoarthritis of metacarpophalangeal joint of finger","Osteoarthritis of hip","Osteoarthritis of knee","Osteoarthritis of ankle","Osteoarthritis of subtalar joint","Osteoarthritis of first metatarsophalangeal joint","Osteoarthritis of toe joint","Endemic osteoarthritis","Osteoarthritis deformans","Generalized osteoarthritis of the hand","Localized, secondary osteoarthritis of the pelvic region and thigh","Osteoarthritis of multiple joints","Osteoarthritis of metacarpophalangeal joint","Osteoarthritis of hip co-occurrent and due to dysplasia","Bilateral osteoarthritis of first carpometacarpal joint","Osteoarthritis of foot joint","Localized, primary osteoarthritis of the wrist","Localized, primary osteoarthritis of toe","Localized, primary osteoarthritis of elbow","Osteoarthritis of joint of left ankle","Osteoarthritis of joint of left elbow","Osteoarthritis of joint of left hand","Osteoarthritis of joint of left shoulder region","Osteoarthritis of joint of left wrist","Osteoarthritis of joint of right ankle and/or foot","Osteoarthritis of joint of right elbow","Osteoarthritis of joint of right hand","Osteoarthritis of joint of right shoulder region","Osteoarthritis of joint of right wrist","Osteoarthritis of left hip joint due to dysplasia","Osteoarthritis of right hip joint due to dysplasia","Osteoarthritis of first carpometacarpal joint of left hand","Osteoarthritis of first carpometacarpal joint of right hand","Osteoarthritis of left hip joint","Osteoarthritis of left knee joint","Osteoarthritis of right hip joint","Osteoarthritis of right knee joint","Osteoarthritis of glenohumeral joint","Exacerbation of osteoarthritis","Osteoarthritis","Localized osteoarthritis of wrist","Chronic osteoarthritis","Secondary osteoarthritis","Patellofemoral osteoarthritis","Post infectious osteoarthritis","Primary osteoarthritis of ankle","Secondary osteoarthritis of ankle","Osteoarthritis of ankle secondary to trauma","Primary calcaneocuboid osteoarthritis","Osteoarthritis of calcaneocuboid joint","Secondary calcaneocuboid osteoarthritis","Calcaneocuboid osteoarthritis secondary to trauma","Primary subtalar osteoarthritis","Secondary osteoarthritis of subtalar joint","Osteoarthritis of subtalar joint secondary to trauma","Subtalar osteoarthritis secondary to inflammatory arthritis","Calcaneocuboid osteoarthritis secondary to inflammatory arthritis","Osteoarthritis of ankle secondary to inflammatory arthritis","Osteoarthritis of talonavicular joint","Primary talonavicular osteoarthritis","Secondary talonavicular osteoarthritis","Talonavicular osteoarthritis secondary to trauma","Talonavicular osteoarthritis secondary to inflammatory arthritis","Secondary osteoarthritis of first metatarsophalangeal joint","Primary osteoarthritis of first metatarsophalangeal joint","Osteoarthritis of first metatarsophalangeal joint secondary to trauma","Osteoarthritis of first metatarsophalangeal joint secondary to inflammatory arthritis","Secondary osteoarthritis of midfoot","Osteoarthritis of midfoot","Primary osteoarthritis of midfoot","Osteoarthritis of midfoot secondary to trauma","Osteoarthritis of midfoot secondary to inflammatory arthritis","Osteoarthritis of hip due to dysplasia","Osteoarthritis of facet joint of thoracic spine","Osteoarthritis of lumbar spinal facet joint","Mild spondyloepiphyseal dysplasia due to COL2A1 mutation with early onset osteoarthritis","Oligoosteoarthritis","Osteoarthritis of joint of left ankle and/or foot","Interphalangeal osteoarthritis","Aneurysm osteoarthritis syndrome","Osteoarthritis of hip due to and following trauma","Osteoarthritis of knee due to and following trauma","Osteoarthritis of wrist and hand due to and following trauma","Osteoarthritis of sternoclavicular joint"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,250],"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="including-descendants">Including descendants<a class="anchor" aria-label="anchor" href="#including-descendants"></a>
</h3>
<p>Now we will also include the descendants of included concepts.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes2</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">TRUE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_2</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_2</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-bd2bdb0d1422e78a714c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-bd2bdb0d1422e78a714c">{"x":{"filter":"none","vertical":false,"data":[[42534844,36687193,36687024,35615134,36687192,35615133,42539212,36685026,36685027,42535135,42535176,42535061,35615111,761407,36687025,36687023,35615130,42535124,42535119,35615129,42539213,37209476,434123,4103372,74722,4323570,42534846,42539209,37018679,40479661,42535205,37209473,37209474,42534845,73550,37108986,4178931,40479241,37209478,37108595,37108985,762219,37209475,4242103,37108596,435038,4009506,42534850,4009091,4344156,42535174,77953,42535175,40479662,42536659,42534849,37016155,40479260,36717013,4178758,37108999,4215655,42535491,37108883,37108998,4181963,81378,74444,761176,37108598,37108884,37108597,4264472,761485,4035434,4147867,37111597,42539034,42534851,37209477,73554,4343921,75037,72401,4181453,78506,77073,439678,4025957,76194,762720,75617,42534848,42534847,76499,77632,40479244,42539035,36717146,36684586,4068475,42539491,433281,4066607,138519,4068616,46270431,42539281,46270418,4035748,46270452,432394,46270450,4067531,37018671,4083344,4029605,434449,442775,40483794,4068604,4175623,4067527,46270435,79119,4083686,35609014,4068477,4068611,42536662,40483814,35609013,46273508,37207760,46270425,762916,42536664,4116451,4068610,4302686,40483793,78227,44783938,4227449,42536665,74445,40487917,4069207,37017608,44783555,4250767,762775,72709,72405,46270448,443116,439901,80816,4066603,4201372,4344390,46270429,73287,46270436,76500,4068609,4083689,4068476,4101425,4183031,4068617,4216873,4049245,4066601,314131,37110374,37017569,4068712,4313022,42536663,4033368,4219481,46270416,72990,4200420,40479259,77353,45766463,4068382,36684585,46270440,80797,46270424,77639,42536661,46270442,4002683,46270420,4066602,4220033,4083688,42536660,4066604,4066606,37110373,46273507,4068629,437629,4035433,4068473,37207762,4048684,4068381,4302891,443769,141941,433844,4096347,4143463,36687180,4003507,440170,74132,198520,4068605,80484,80813,761084,46270444,4068474,46270422,46270438,4274404,77633,42536890,4308802,79107,36713669,4346975,4147418,40485405,438531,4236035],["Chondrocalcinosis of right shoulder","Chondromalacia of right shoulder","Bilateral chondrocalcinosis of shoulders","Hydroxyapatite deposition disease of right shoulder","Chondromalacia of left shoulder","Hydroxyapatite deposition disease of left shoulder","Chondrocalcinosis of left shoulder","Chronic tophaceous gout of right foot","Chronic tophaceous gout of left foot","Bilateral chondrocalcinosis of ankles","Bilateral chondromalacia of ankles","Bilateral degenerative rupture of medial meniscus of knee","Bilateral degenerative rupture of lateral meniscus of knees","Chondrocalcinosis of bilateral knee joints","Chondrocalcinosis of bilateral hips","Bilateral chondrocalcinosis of hands","Bilateral chronic tophaceous gout of hands","Bilateral chondrocalcinosis of wrists","Bilateral gouty tophus of elbows","Bilateral chronic tophaceous gout of elbows","Chondrocalcinosis of right ankle","Chondromalacia of joint of right ankle","Primary localized osteoarthrosis of pelvic region","Primary localized osteoarthrosis of multiple sites","Secondary localized osteoarthrosis of pelvic region","Secondary localized osteoarthrosis of multiple sites","Chondrocalcinosis of left elbow","Gouty tophus of right elbow","Chondrocalcinosis of elbow due to disorder of calcium metabolism","Chondrocalcinosis of elbow joint","Tophus of left elbow co-occurrent and due to gout","Chondromalacia of joint of left elbow","Chondromalacia of joint of right elbow","Chondrocalcinosis of right elbow","Crystal arthropathy of elbow","Degenerative rupture of triangular fibrocartilage of left wrist","Degenerative tear of triangular fibrocartilage complex of wrist","Chondrocalcinosis of wrist joint","Chondromalacia of joint of right wrist","Chondrocalcinosis of joint of right wrist","Degenerative rupture of triangular fibrocartilage of right wrist","Chronic tophaceous gout of right wrist due to renal impairment","Chondromalacia of joint of left wrist","Osteoarthrosis of the carpometacarpal joint of the thumb","Chondrocalcinosis of joint of left wrist","Crystal arthropathy of wrist","Periarthritis of wrist","Chondrocalcinosis of left hip","Juvenile osteochondrosis of acetabulum","Otto's pelvis","Chondromalacia of left hip","Crystal arthropathy of hip","Chondromalacia of right hip","Chondrocalcinosis of hip joint","Wear of articular bearing surface of joint prosthesis of hip","Chondrocalcinosis of right hip","Chondrocalcinosis of hip joint due to disorder of calcium metabolism","Chondrocalcinosis of knee joint","Chondromalacia of right patella","Miner's knee","Degenerative rupture of lateral meniscus of left knee","Tibial plateau chondromalacia","Chondromalacia of left patella","Degenerative rupture of medial meniscus of left knee","Degenerative rupture of lateral meniscus of right knee","Degeneration of internal semilunar cartilage","Chondromalacia of patella","Crystal arthropathy of knee","Chondromalacia of bilateral patellas","Chondrocalcinosis of joint of left knee","Degenerative rupture of medial meniscus of right knee","Chondrocalcinosis of joint of right knee","Pellegrini-Stieda syndrome","Chondromalacia of left knee","Chondrocalcinosis due to pyrophosphate crystals of the knee","Degenerative lesion of articular cartilage of knee","Familial chondromalacia patellae","Wear of articular bearing surface of joint prosthesis of knee","Chondrocalcinosis of left ankle","Chondromalacia of joint of left ankle","Kashin-Beck disease of the pelvic region and thigh","Malemud disease","Kashin-Beck disease of the ankle and/or foot","Kashin-Bek disease","Kashin-Beck disease of spine","Kashin-Beck disease of multiple sites","Kashin-Beck disease of the hand","Kashin-Beck disease of the shoulder region","Degenerative polyarthritis","Osteoarthrosis involving multiple sites but not designated as generalized","Arthritis due to alkaptonuria","Degenerative joint disease involving multiple joints","Chondrocalcinosis of left hand","Chondrocalcinosis of right hand","Chondrocalcinosis due to pyrophosphate crystals, of the shoulder region","Chondrocalcinosis due to dicalcium phosphate crystals, of the shoulder region","Chondrocalcinosis of shoulder region","Prolapse of lumbar intervertebral disc with degeneration","Dermatoosteolysis Kirghizian type","Spondylosis of thoracolumbar spine","Multiple-level thoracic spondylosis with radiculopathy","Degeneration of cervical intervertebral disc and osteophyte of cervical vertebra","Chondrocalcinosis due to dicalcium phosphate crystals, of the pelvic region and thigh","Single-level thoracic spondylosis with radiculopathy","Spondylosis without myelopathy","Thoracic spondylosis with radiculopathy","Chronic tophaceous gout of wrist due to renal impairment","Ossification of anterior longitudinal ligament of spine","Chronic tophaceous gout of elbow due to renal impairment","Pyrophosphate tophus","Chronic tophaceous gout of wrist caused by drug","Chondrocalcinosis due to pyrophosphate crystals, of multiple sites","Chronic tophaceous gout caused by drug","Multiple-level lumbosacral spondylosis with radiculopathy","Chondrocalcinosis of hand due to disorder of calcium metabolism","Gouty tophus of prepatellar bursa","Periarticular calcification","Degeneration of thoracolumbar intervertebral disc","Degeneration of thoracic intervertebral disc","Degenerative joint disease of pelvis","Single-level cervical spondylosis without myelopathy","Periarthritis","Multiple-level cervical spondylosis without myelopathy","Chronic tophaceous gout of ankle and/or foot caused by drug","Thoracic spondylosis with myelopathy","Apatite-associated destructive arthritis","Chondrocalcinosis of left foot","Two-level lumbosacral spondylosis with radiculopathy","Multiple-level thoracic spondylosis with myelopathy","Prolapse of thoracic intervertebral disc with degeneration","Chondrocalcinosis of joint of pelvis","Chondrocalcinosis of right foot","Chronic tophaceous gout of vertebra due to renal impairment","Calcium deposit in bursa of left knee","Chronic tophaceous gout of multiple sites due to renal impairment","Calcium oxalate deposition disease","Degeneration of lumbar intervertebral disc without prolapse","Erosive osteoarthrosis","Two-level thoracic spondylosis with myelopathy","Thoracic spondylosis","Crystal arthropathy of pelvis","Degenerative joint disease of hand","Apatite-associated destructive arthritis of shoulder","Spondylosis","Degeneration of lumbar intervertebral disc and osteophyte of lumbar vertebra","Crystal arthropathy of shoulder region","Heterotopic ossification of joint","Calcification of cervical disc","Lumbosacral spondylosis with root compression","Calcified stylohyoid ligament","Chronic tophaceous gout","Intervertebral disc desiccation","Crystal arthropathy of multiple sites","Degenerative joint disease of shoulder region","Chronic tophaceous gout of vertebra caused by drug","Cervical posterior longitudinal ligament ossification","Chondrocalcinosis due to pyrophosphate crystals","Degeneration of intervertebral disc","Lumbosacral spondylosis with myelopathy","Acute degenerative joint disease of shoulder region","Intervertebral disk calcification","Chronic tophaceous gout due to renal impairment","Crystal arthropathy of ankle AND/OR foot","Chronic tophaceous gout of elbow caused by drug","Crystal arthropathy of hand","Single-level thoracic spondylosis with myelopathy","Intra-articular steroid-induced arthritis and periarthritis","Single-level lumbosacral spondylosis with radiculopathy","Gouty tophus of hand","Degeneration of cervicothoracic intervertebral disc","Lumbosacral spondylosis with radiculopathy","Relapsing polychondritis","Relapsing polychondritis of larynx","Single-level lumbosacral spondylosis without myelopathy","Degeneration of cervical intervertebral disc","Ossification of spinal ligament","Congenital calcium pyrophosphate dihydrate crystal deposition disease","Calcification of lumbar disc","Chondrocalcinosis due to calcium hydroxyapatite crystals","Degeneration of thoracic intervertebral disc and osteophyte","Mouth and genital ulcers with inflamed cartilage syndrome","Degenerative joint disease of ankle AND/OR foot","Chronic tophaceous gout of ankle due to renal impairment","Localized osteoarthrosis uncertain if primary OR secondary","Spinal arthritis deformans","Chondrocalcinosis of joint of ankle AND/OR foot","Chondrocalcinosis due to pyrophosphate crystals, of the ankle and foot","Asymptomatic calcium pyrophosphate deposition disease","Two-level lumbosacral spondylosis with myelopathy","Spondylosis of cervicothoracic spine","Chronic tophaceous gout of hip caused by drug","Chondrocalcinosis due to dicalcium phosphate crystals, of the hand","Chronic tophaceous gout of knee due to renal impairment","Diffuse cervicobrachial syndrome","Degeneration of thoracic intervertebral disc without prolapse","Chronic tophaceous gout of knee caused by drug","Acute calcific periarthritis","Chronic tophaceous gout of hand due to renal impairment","Two-level lumbosacral spondylosis without myelopathy","Ochronotic arthritis","Monosodium urate arthritis and periarthritis","Prolapse of cervical intervertebral disc with degeneration","Single-level lumbosacral spondylosis with myelopathy","Cervical spondylosis with vascular compression","Intervertebral disc degeneration of cervical spine without prolapsed disc","Chronic tophaceous gout of shoulder due to renal impairment","Calcification of thoracic disc","Chondrocalcinosis due to dicalcium phosphate crystals","Calcium pyrophosphate deposition disease","Multiple-level lumbosacral spondylosis with myelopathy","Calcium deposit in bursa of right knee","Lumbosacral spondylosis","Multiple-level lumbosacral spondylosis without myelopathy","Stickler syndrome","Degeneration of lumbar intervertebral disc","Cervical spondylosis without myelopathy","Chondrocalcinosis due to pyrophosphate crystals, of the pelvic region and thigh","Gouty arthropathy","Localized osteoarthrosis","Chondrocalcinosis of bilateral feet","Degenerative arthritis of temporomandibular joint","Chondrocalcinosis due to dicalcium phosphate crystals, of multiple sites","Degeneration of lumbosacral intervertebral disc","Lumbar spondylosis with myelopathy","Two-level cervical spondylosis without myelopathy","Crystal arthropathy","Lumbosacral spondylosis without myelopathy","Degenerative joint disease of thumb","Chronic tophaceous gout of multiple sites caused by drug","Two-level thoracic spondylosis with radiculopathy","Chronic tophaceous gout of hip due to renal impairment","Chronic tophaceous gout of hand caused by drug","Calcification of joint","Chondrocalcinosis due to dicalcium phosphate crystals, of the ankle and foot","Wear of cartilage of joint caused by hemiarthroplasty","Cervical spondylosis","Chondrocalcinosis-pyrophosphate crystals, of the hand","Hereditary arterial and articular multiple calcification syndrome","Lumbar spondylosis","Seropositive erosive rheumatoid arthritis","Chondrocalcinosis of joint of hand","Chondromalacia","Ossification of posterior longitudinal ligament"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="including-observation-domain">Including observation domain<a class="anchor" aria-label="anchor" href="#including-observation-domain"></a>
</h3>
<p>Now we will search the observation domain as well as the condition domain.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes3</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Condition"</span>,<span class="st">"Observation"</span><span class="op">)</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match_max_distance<span class="op">=</span><span class="fl">0.1</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_3</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_3</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-57d2618bb1e2c3ad7219" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-57d2618bb1e2c3ad7219">{"x":{"filter":"none","vertical":false,"data":[[2617599,2617600,42869846,42869847,36204474,36204482,4051701,4060067,44790364,4245253,40486510,44807235,44807236,44807350],["Patients diagnosed with symptomatic osteoarthritis with documented annual assessment of function and pain","Clinician documented that symptomatic osteoarthritis patient was not an eligible candidate for annual assessment of function and pain measure","Knee injury and Osteoarthritis Outcome Score [KOOS]","Hip Dysfunction and Osteoarthritis Outcome Score [HOOS]","Hip dysfunction and osteoarthritis outcome score for joint replacement [HOOSJR]","Knee injury and osteoarthritis outcome score for joint replacement [KOOSJR]","FH: Osteoarthritis","H/O: osteoarthritis","Delivery of rehabilitation for osteoarthritis","Referral to rheumatology service for osteoarthritis","Hip disability and osteoarthritis outcome score","Exception reporting - osteoarthritis quality indicators","Excepted from osteoarthritis quality indicators - patient unsuitable","Excepted from osteoarthritis quality indicators - informed dissent"],["Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation","Observation"],["HCPCS","HCPCS","LOINC","LOINC","LOINC","LOINC","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="search-synonyms">Search synonyms<a class="anchor" aria-label="anchor" href="#search-synonyms"></a>
</h3>
<p>Now we will search the concept synonym table to identify concepts to include.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes4</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">TRUE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match_max_distance<span class="op">=</span><span class="fl">0.1</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_4</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_4</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-18ddc4bc24fb46fde311" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-18ddc4bc24fb46fde311">{"x":{"filter":"none","vertical":false,"data":[[4103372,434123,72990,74722,4323570,4114585,4219481,4116451,76194,4143463,4242103,4003507,4025957,761084,75617,78227,4201372,40483794,72405],["Primary localized osteoarthrosis of multiple sites","Primary localized osteoarthrosis of pelvic region","Localized osteoarthrosis uncertain if primary OR secondary","Secondary localized osteoarthrosis of pelvic region","Secondary localized osteoarthrosis of multiple sites","Primary gonarthrosis, bilateral","Degenerative joint disease of ankle AND/OR foot","Erosive osteoarthrosis","Osteoarthrosis involving multiple sites but not designated as generalized","Localized osteoarthrosis","Osteoarthrosis of the carpometacarpal joint of the thumb","Degenerative arthritis of temporomandibular joint","Degenerative polyarthritis","Degenerative joint disease of thumb","Degenerative joint disease involving multiple joints","Degenerative joint disease of hand","Acute degenerative joint disease of shoulder region","Degenerative joint disease of pelvis","Degenerative joint disease of shoulder region"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="using-a-fuzzy-search">Using a fuzzy search<a class="anchor" aria-label="anchor" href="#using-a-fuzzy-search"></a>
</h3>
<p>Now we will use an approximate search. See <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/agrep" class="external-link uri">https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/agrep</a> for further details (as this is what is running under the hood). Note, we set the default max distance as 0.1 (equivalent to 10% of the pattern length).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes5</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">TRUE</span>,
                    fuzzy_match_max_distance<span class="op">=</span><span class="fl">0.1</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_5</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_5</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-040403c7a79d296c0f53" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-040403c7a79d296c0f53">{"x":{"filter":"none","vertical":false,"data":[[4116451,74722,4103372,76194,4143463,4242103,4323570,434123,72990],["Erosive osteoarthrosis","Secondary localized osteoarthrosis of pelvic region","Primary localized osteoarthrosis of multiple sites","Osteoarthrosis involving multiple sites but not designated as generalized","Localized osteoarthrosis","Osteoarthrosis of the carpometacarpal joint of the thumb","Secondary localized osteoarthrosis of multiple sites","Primary localized osteoarthrosis of pelvic region","Localized osteoarthrosis uncertain if primary OR secondary"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="using-a-more-generous-fuzzy-search">Using a more generous fuzzy search<a class="anchor" aria-label="anchor" href="#using-a-more-generous-fuzzy-search"></a>
</h3>
<p>Here we widen the approximate searching, increasing the maximum distance allowed for a match to 0.2 (equivalent to 20% of the pattern length).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes6</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">TRUE</span>,
                    fuzzy_match_max_distance<span class="op">=</span><span class="fl">0.2</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">FALSE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_6</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_6</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-677a36f943e0f93b6374" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-677a36f943e0f93b6374">{"x":{"filter":"none","vertical":false,"data":[[37108592,37108593,42534843,37108594,45757270,4000634,42535127,42539261,42535133,42539266,4116007,4114911,4114912,4116008,4116009,4116451,4083684,4083685,4079742,4035435,4079743,4083688,74722,4103372,36684526,36684528,36684529,36684531,36684533,36684534,36684539,36684540,36684541,36684542,36684543,36684544,762333,76194,4143463,4242103,4132811,4132812,4261027,4174268,4175848,4179065,37207517,4285308,44782455,44784338,44784339,44782456,44784340,44784341,44783376,44783578,4323570,36715572,36675057,434123,4224167,72990],["Gouty arthritis of right foot","Gouty arthritis of right great toe","Gouty arthritis of left foot","Gouty arthritis of left great toe","Sporotrichosis arthritis","Acute arthritis","Bilateral gouty arthritis of great toes","Bilateral gouty arthritis of ankles","Bilateral gouty arthritis of feet","Bilateral gouty arthritis of knees","Gouty arthritis of the shoulder region","Gouty arthritis of the hand","Gouty arthritis of the pelvic region and thigh","Gouty arthritis of the ankle and/or foot","Gouty arthritis of multiple sites","Erosive osteoarthrosis","Undifferentiated inflammatory oligoarthritis","Undifferentiated inflammatory monoarthritis","Pyrophosphate arthritis","Idiopathic pyrophosphate arthritis","Secondary pyrophosphate arthritis","Monosodium urate arthritis and periarthritis","Secondary localized osteoarthrosis of pelvic region","Primary localized osteoarthrosis of multiple sites","Gouty arthritis of left ankle","Gouty arthritis of left hand","Gouty arthritis of left knee","Gouty arthritis of right ankle","Gouty arthritis of right hand","Gouty arthritis of right knee","Monoarthritis of joint of left ankle","Monoarthritis of joint of left hand","Monoarthritis of left knee","Monoarthritis of joint of right ankle","Monoarthritis of joint of right hand","Monoarthritis of right knee","Monoarthritis of joint of ankle","Osteoarthrosis involving multiple sites but not designated as generalized","Localized osteoarthrosis","Osteoarthrosis of the carpometacarpal joint of the thumb","Juvenile idiopathic arthritis, oligoarthritis","Juvenile idiopathic arthritis, persistent oligoarthritis","Juvenile idiopathic arthritis, extended oligoarthritis","Subacute arthritis","Monoarthritis of hip joint","Gouty arthritis of toe","Juvenile idiopathic arthritis, persistent monoarthritis","Chronic gouty arthritis","Monoarthritis of knee","Monoarthritis of hand","Monoarthritis of wrist","Monoarthritis of joint of shoulder region","Monoarthritis of elbow","Monoarthritis of ankle and/or foot","Monoarthritis","Gouty arthritis of temporomandibular joint","Secondary localized osteoarthrosis of multiple sites","Chronic primary gouty arthritis","Immune dysregulation, inflammatory bowel disease, arthritis, recurrent infection syndrome","Primary localized osteoarthrosis of pelvic region","Lipoid dermatoarthritis","Localized osteoarthrosis uncertain if primary OR secondary"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="include-ancestor">Include ancestor<a class="anchor" aria-label="anchor" href="#include-ancestor"></a>
</h3>
<p>Now we include the direct ancestor of included terms.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oa_codes7</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_candidate_codes.html">get_candidate_codes</a></span><span class="op">(</span>keywords<span class="op">=</span><span class="st">"osteoarthritis"</span>,
                    domains<span class="op">=</span><span class="st">"Condition"</span>,
                    search_synonyms <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span>,
                    fuzzy_match_max_distance<span class="op">=</span><span class="fl">0.1</span>,
                    exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"post-infection"</span>,
                                <span class="st">"post-traumatic"</span><span class="op">)</span>,
                    include_descendants <span class="op">=</span> <span class="cn">FALSE</span>,
                    include_ancestor <span class="op">=</span> <span class="cn">TRUE</span>,
                    db<span class="op">=</span><span class="va">db</span>,
                    vocabulary_database_schema <span class="op">=</span>  <span class="va">vocabulary_database_schema</span><span class="op">)</span></code></pre></div>
<p>What new codes do we pick up?</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_codes_1_7</span><span class="op">&lt;-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">oa_codes1</span>, <span class="va">oa_codes7</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">concept_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>seq<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">concept_name</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">seq</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">new_codes_1_7</span>,
          rownames<span class="op">=</span><span class="cn">FALSE</span>,
          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  pageLength <span class="op">=</span> <span class="fl">10</span>,
  lengthMenu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-0a3148cef10c976b980f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0a3148cef10c976b980f">{"x":{"filter":"none","vertical":false,"data":[[764153,764154,761505,37108989,37108990,75620,40483794,761500,42538572,764091,80494,4323193,37108991,37209355,36687055,36687058,36687056,36687057,762303,762302,36686930,74396,36687053,761504,4143463,72405,78227,4219481,4057588,4042503,40482662,4180129,4227449,44783380,4323893,4028074,4184709,4027258,4177851,4324765,443583,4104503,4028528,4101641,75897,443557,761503,761502,36676839,764155,765622,36676838,761506,37209352,4242103,761507,36676836,761508,36676837,4328821,73553,4178680,4189855,4035422,76777,444201,4114605,4116930,4116931,4116933,4302686,4178926,4006473,4178826,4150456,764156,4029964,4184707,4085405,443401,4176799,4274970,4179992,4208786,4116928,4114604,81937,4116594,4043346,4266188],["Disorder of right upper extremity","Disorder of left upper extremity","Arthropathy of left shoulder","Arthropathy of right foot","Arthropathy of left foot","Traumatic arthropathy of the ankle and/or foot","Degenerative joint disease of pelvis","Disorder of right sacroiliac joint","Degeneration of spine","Disorder of left sacroiliac joint","Arthropathy associated with another disorder","Disorder of wrist joint","Bilateral foot arthropathy","Arthropathy of bilateral ankle joints","Bilateral arthropathy of knee joints","Arthropathy of bilateral hip joints","Bilateral arthropathy of joint of hands","Bilateral arthropathy of joint of shoulder regions","Disorder of right patellofemoral joint","Disorder of left patellofemoral joint","Bilateral disorder of patellofemoral joints","Temporomandibular joint disorder","Bilateral arthropathy of sacroiliac joints","Disorder of joint of right ankle","Localized osteoarthrosis","Degenerative joint disease of shoulder region","Degenerative joint disease of hand","Degenerative joint disease of ankle AND/OR foot","Arthritis associated with another disorder","Disorder of upper extremity","Disorder of joint of ankle and/or foot","Arthropathy of spinal facet joint","Spondylosis","Disorder of acromioclavicular joint","Arthropathy of elbow","Disorder of wrist","Finding of finger joint","Disorder of finger","Disorder of hip joint","Arthropathy of knee joint","Disorder of ankle joint","Finding of subtalar joint","Disorder of toe","Finding of joint of toe","Polyarthropathy","Disorder of joint of foot","Disorder of joint of left ankle","Arthropathy of left elbow","Arthropathy of joint of left hand","Disorder of right lower extremity","Arthropathy of right elbow","Arthropathy of joint of right hand","Arthropathy of right shoulder","Arthropathy of joint of right wrist","Osteoarthrosis of the carpometacarpal joint of the thumb","Arthropathy of left hip joint","Arthropathy of left knee joint","Arthropathy of right hip joint","Arthropathy of right knee joint","Disorder of glenohumeral joint","Arthropathy","Degenerative disorder of musculoskeletal system","Chronic arthropathy","Disorder of patellofemoral joint","Arthropathy associated with infection","Post-infectious disorder","Traumatic arthropathy-ankle","Traumatic arthropathy of subtalar joint","Traumatic arthropathy of talonavicular joint","Traumatic arthropathy of 1st metatarsophalangeal joint","Thoracic spondylosis","Arthropathy of lumbar facet joint","Autosomal dominant hereditary disorder","Hereditary disorder of musculoskeletal system","Spondyloepiphyseal dysplasia congenita","Disorder of left lower extremity","Disorder of digit","Finding of musculoskeletal structure of digit of hand","Congenital arterial aneurysm","Congenital connective tissue disorder","Connective tissue hereditary disorder","Multiple malformation syndrome with facial defects as major feature","Cardiovascular system hereditary disorder","Musculoskeletal and connective tissue disorder","Traumatic arthropathy-hip","Traumatic arthropathy-knee","Traumatic arthropathy of the hand","Traumatic arthropathy-wrist","Disorder of thorax","Disorder of body wall"],["Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition","Condition"],["SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED","SNOMED"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>concept_id<\/th>\n      <th>concept_name<\/th>\n      <th>domain_id<\/th>\n      <th>vocabulary_id<\/th>\n      <th>seq<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"lengthMenu":[10,20,50],"columnDefs":[{"className":"dt-right","targets":[0,4]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edward Burn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
