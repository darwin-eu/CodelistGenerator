<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generating vocabulary based codelists for conditions • CodelistGenerator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating vocabulary based codelists for conditions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CodelistGenerator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a01_GettingOmopCdmVocabularies.html">Getting the OMOP CDM vocabularies</a></li>
    <li><a class="dropdown-item" href="../articles/a02_ExploreCDMvocabulary.html">Exploring the OMOP CDM vocabulary tables</a></li>
    <li><a class="dropdown-item" href="../articles/a03_GenerateCandidateCodelist.html">Generate a candidate codelist</a></li>
    <li><a class="dropdown-item" href="../articles/a04_GenerateVocabularyBasedCodelist.html">Generating vocabulary based codelists for medications</a></li>
    <li><a class="dropdown-item" href="../articles/a04b_icd_codes.html">Generating vocabulary based codelists for conditions</a></li>
    <li><a class="dropdown-item" href="../articles/a05_ExtractCodelistFromJSONfile.html">Extract codelists from JSON files</a></li>
    <li><a class="dropdown-item" href="../articles/a06_CreateSubsetsFromCodelist.html">Compare, subset or stratify codelists</a></li>
    <li><a class="dropdown-item" href="../articles/a07_RunCodelistDiagnostics.html">Codelist diagnostics</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav"></ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generating vocabulary based codelists for conditions</h1>
            
      

      <div class="d-none name"><code>a04b_icd_codes.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-creating-a-vocabulary-based-codelist-for-conditions">Introduction: Creating a vocabulary-based codelist for
conditions<a class="anchor" aria-label="anchor" href="#introduction-creating-a-vocabulary-based-codelist-for-conditions"></a>
</h2>
<p>In this vignette, we will explore how to generate codelists for
conditions using the OMOP CDM vocabulary tables. We should note at the
start that there are many more caveats with creating conditions
codelists based on vocabularies compared to medications. In particular
hierarchies to group medications are a lot more black and white than
with conditions. With that being said we can generate some vocabulary
based codelists for conditions. For this we will use ICD10 as the
foundation for grouping condition-related codes.</p>
<p>To begin, let’s load the necessary packages and create a cdm
reference using Eunomia mock data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.duckdb.org/" class="external-link">duckdb</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu.github.io/CDMConnector/" class="external-link">CDMConnector</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu.github.io/CodelistGenerator/">CodelistGenerator</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Connect to the database and create the cdm object</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu"><a href="https://r.duckdb.org/reference/duckdb.html" class="external-link">duckdb</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>                 <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/eunomiaDir.html" class="external-link">eunomiaDir</a></span><span class="op">(</span><span class="st">"synpuf-1k"</span>, <span class="st">"5.3"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/cdmFromCon.html" class="external-link">cdmFromCon</a></span><span class="op">(</span>con <span class="op">=</span> <span class="va">con</span>, </span>
<span>                  cdmName <span class="op">=</span> <span class="st">"Eunomia Synpuf"</span>,</span>
<span>                  cdmSchema <span class="op">=</span> <span class="st">"main"</span>,</span>
<span>                  writeSchema <span class="op">=</span> <span class="st">"main"</span>,</span>
<span>                  achillesSchema <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span></span></code></pre></div>
<p>We can see that our ICD10 codes come at four different levels of
granularity, with chapters the broadest and codes the narrowest.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/availableICD10.html">availableICD10</a></span><span class="op">(</span><span class="va">cdm</span>, level <span class="op">=</span> <span class="st">"ICD10 Chapter"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:22] "Certain infectious and parasitic diseases" "Neoplasms" ...</span></span>
<span><span class="fu"><a href="../reference/availableICD10.html">availableICD10</a></span><span class="op">(</span><span class="va">cdm</span>, level <span class="op">=</span> <span class="st">"ICD10 SubChapter"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:274] "Intestinal infectious diseases" "Tuberculosis" ...</span></span>
<span><span class="fu"><a href="../reference/availableICD10.html">availableICD10</a></span><span class="op">(</span><span class="va">cdm</span>, level <span class="op">=</span> <span class="st">"ICD10 Hierarchy"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:2093] "Other salmonella infections" ...</span></span>
<span><span class="fu"><a href="../reference/availableICD10.html">availableICD10</a></span><span class="op">(</span><span class="va">cdm</span>, level <span class="op">=</span> <span class="st">"ICD10 Code"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:14130] "Enteropathogenic Escherichia coli infection" ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="icd10-chapter-codelists">ICD10 chapter codelists<a class="anchor" aria-label="anchor" href="#icd10-chapter-codelists"></a>
</h2>
<p>We can use <code><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes()</a></code> to generate condition
codelists based on ICD10 chapters. As ICD10 is a non-standard vocabulary
in the OMOP CDM, this function returns standard concepts associated with
these ICD10 chapters and subchapters directly via a mapping from them or
indirectly from being a descendant concept of a code that is mapped from
them. It is important to note that <code><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes()</a></code>
will only return results if the ICD codes are included in the vocabulary
tables.</p>
<p>We can start by getting a codelist for each of the chapters. For each
of these our result will be the standard OMOP CDM concepts. So, as ICD10
is non-standard, we’ll first identify ICD10 codes of interest and then
map across to their standard equivalents (using the concept relationship
table).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icd_chapters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span>cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>                                      level <span class="op">=</span> <span class="st">"ICD10 Chapter"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">icd_chapters</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 22</span></span>
<span><span class="va">icd_chapters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">22 codelists</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - i_certain_infectious_and_parasitic_diseases (65191 codes)</span></span>
<span><span class="co">#&gt; - ii_neoplasms (16262 codes)</span></span>
<span><span class="co">#&gt; - iii_diseases_of_the_blood_and_blood_forming_organs_and_certain_disorders_involving_the_immune_mechanism (6604 codes)</span></span>
<span><span class="co">#&gt; - iv_endocrine_nutritional_and_metabolic_diseases (13483 codes)</span></span>
<span><span class="co">#&gt; - ix_diseases_of_the_circulatory_system (38407 codes)</span></span>
<span><span class="co">#&gt; - v_mental_and_behavioural_disorders (4602 codes)</span></span>
<span><span class="co">#&gt; along with 16 more codelists</span></span></code></pre></div>
<p>Instead of getting all of the chapters, we could instead specify one
of interest. Here, for example, we will try to generate a codelist for
mental and behavioural disorders (ICD chapter V).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mental_and_behavioural_disorders</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Mental and behavioural disorders"</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Chapter"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">mental_and_behavioural_disorders</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - v_mental_and_behavioural_disorders (4602 codes)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="icd10-subchapter-codelists">ICD10 subchapter codelists<a class="anchor" aria-label="anchor" href="#icd10-subchapter-codelists"></a>
</h2>
<p>Instead of the chapter level, we could instead use ICD10
sub-chapters. Again we can get codelists for all sub-chapters, and we’ll
have many more than at the chapter level.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icd_subchapters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 SubChapter"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">icd_subchapters</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 260</span></span>
<span><span class="va">icd_subchapters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">260 codelists</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - a00_a09_intestinal_infectious_diseases (1532 codes)</span></span>
<span><span class="co">#&gt; - a15_a19_tuberculosis (440 codes)</span></span>
<span><span class="co">#&gt; - a20_a28_certain_zoonotic_bacterial_diseases (5891 codes)</span></span>
<span><span class="co">#&gt; - a30_a49_other_bacterial_diseases (4324 codes)</span></span>
<span><span class="co">#&gt; - a50_a64_infections_with_a_predominantly_sexual_mode_of_transmission (11944 codes)</span></span>
<span><span class="co">#&gt; - a65_a69_other_spirochaetal_diseases (490 codes)</span></span>
<span><span class="co">#&gt; along with 254 more codelists</span></span></code></pre></div>
<p>Or again we could specify particular sub-chapters of interest. Here
we’ll get codes for Mood [affective] disorders (ICD10 F30-F39).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mood_affective_disorders</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Mood [affective] disorders"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 SubChapter"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">mood_affective_disorders</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - f30_f39_mood_affective_disorders (822 codes)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="icd10-hierarchy-codelists">ICD10 hierarchy codelists<a class="anchor" aria-label="anchor" href="#icd10-hierarchy-codelists"></a>
</h2>
<p>We can move one level below and get codelists for all the hierarchy
codes. Again we’ll have more granularity and many more codes.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icd_hierarchy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Hierarchy"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">icd_hierarchy</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1588</span></span>
<span><span class="va">icd_hierarchy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1588 codelists</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - a00_cholera (7 codes)</span></span>
<span><span class="co">#&gt; - a01_typhoid_and_paratyphoid_fevers (11 codes)</span></span>
<span><span class="co">#&gt; - a02_other_salmonella_infections (42 codes)</span></span>
<span><span class="co">#&gt; - a03_shigellosis (11 codes)</span></span>
<span><span class="co">#&gt; - a04_other_bacterial_intestinal_infections (48 codes)</span></span>
<span><span class="co">#&gt; - a05_other_bacterial_foodborne_intoxications_not_elsewhere_classified (22 codes)</span></span>
<span><span class="co">#&gt; along with 1582 more codelists</span></span></code></pre></div>
<p>And we can get codes for Persistent mood [affective] disorders (ICD10
F34).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">persistent_mood_affective_disorders</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Persistent mood [affective] disorders"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Hierarchy"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">persistent_mood_affective_disorders</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - f34_persistent_mood_affective_disorders (374 codes)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="icd10-code-codelists">ICD10 code codelists<a class="anchor" aria-label="anchor" href="#icd10-code-codelists"></a>
</h2>
<p>Our last option for level is the most granular, the ICD10 code. Now
we’ll get even more codelists.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">icd_code</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">icd_code</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 13723</span></span>
<span><span class="va">icd_hierarchy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1588 codelists</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - a00_cholera (7 codes)</span></span>
<span><span class="co">#&gt; - a01_typhoid_and_paratyphoid_fevers (11 codes)</span></span>
<span><span class="co">#&gt; - a02_other_salmonella_infections (42 codes)</span></span>
<span><span class="co">#&gt; - a03_shigellosis (11 codes)</span></span>
<span><span class="co">#&gt; - a04_other_bacterial_intestinal_infections (48 codes)</span></span>
<span><span class="co">#&gt; - a05_other_bacterial_foodborne_intoxications_not_elsewhere_classified (22 codes)</span></span>
<span><span class="co">#&gt; along with 1582 more codelists</span></span></code></pre></div>
<p>And now we could create a codelist just for dysthymia.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dysthymia</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">dysthymia</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - f341_dysthymia (10 codes)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="additional-options">Additional options<a class="anchor" aria-label="anchor" href="#additional-options"></a>
</h2>
<p>As well as different ICD10 levels we have some more options when
creating these codelists.</p>
<div class="section level3">
<h3 id="include-descendants">Include descendants<a class="anchor" aria-label="anchor" href="#include-descendants"></a>
</h3>
<p>By default when we map from ICD10 to standard codes we will also
include the descendants of the standard code. We can instead just return
the direct mappings themselves without descendants.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dysthymia_descendants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span>,</span>
<span>  includeDescendants <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">dysthymia_descendants</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - f341_dysthymia (10 codes)</span></span>
<span></span>
<span><span class="va">dysthymia_no_descendants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span>,</span>
<span>  includeDescendants <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="va">dysthymia_no_descendants</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - f341_dysthymia (1 codes)</span></span></code></pre></div>
<p>Unsurprisingly when we include descendants we’ll include additional
codes.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/compareCodelists.html">compareCodelists</a></span><span class="op">(</span><span class="va">dysthymia_no_descendants</span>, </span>
<span>                 <span class="va">dysthymia_descendants</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">codelist</span> <span class="op">==</span> <span class="st">"Both"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"concept_id"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 433440</span></span>
<span></span>
<span><span class="fu"><a href="../reference/compareCodelists.html">compareCodelists</a></span><span class="op">(</span><span class="va">dysthymia_no_descendants</span>, </span>
<span>                 <span class="va">dysthymia_descendants</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">codelist</span> <span class="op">==</span> <span class="st">"Only codelist 2"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"concept_id"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4307951 4057218 4096229 4150047 4336980 4195680 4263770 4224639 4243308</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="name-style">Name style<a class="anchor" aria-label="anchor" href="#name-style"></a>
</h3>
<p>By default we’ll get back a list with name styled as
<code>"{concept_code}_{concept_name}"</code>. We could though instead
use only the concept name for naming our codelists.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dysthymia</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span>,</span>
<span>  nameStyle <span class="op">=</span> <span class="st">"{concept_name}"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">dysthymia</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1 codelist</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - dysthymia (10 codes)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="codelist-or-codelist-with-details">Codelist or codelist with details<a class="anchor" aria-label="anchor" href="#codelist-or-codelist-with-details"></a>
</h3>
<p>Lastly, we have flexibility about the type of object returned. By
default we’ll have a codelist with just concept IDs of interest. But we
could instead get these with additional information such as their name,
vocabulary, and so on.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dysthymia</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"codelist"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">dysthymia</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  int [1:10] 4307951 4057218 4096229 4150047 4336980 4195680 4263770 4224639 433440 4243308</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dysthymia</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getICD10StandardCodes.html">getICD10StandardCodes</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"dysthymia"</span>, </span>
<span>  level <span class="op">=</span> <span class="st">"ICD10 Code"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"codelist_with_details"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting non-standard ICD10 concepts</span></span>
<span><span class="co">#&gt; Mapping from non-standard to standard concepts</span></span>
<span><span class="co">#&gt; Getting descendant concepts</span></span>
<span><span class="va">dysthymia</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 10</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ name          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "f341_dysthymia"<span style="color: #949494;">, </span>"f341_dysthymia"<span style="color: #949494;">, </span>"f341_dysthymia"<span style="color: #949494;">, </span>"f…</span></span>
<span><span class="co">#&gt; $ concept_id    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 4057218<span style="color: #949494;">, </span>4336980<span style="color: #949494;">, </span>4096229<span style="color: #949494;">, </span>4150047<span style="color: #949494;">, </span>4195680<span style="color: #949494;">, </span>4224639<span style="color: #949494;">, </span>42…</span></span>
<span><span class="co">#&gt; $ concept_code  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "19694002"<span style="color: #949494;">, </span>"87842000"<span style="color: #949494;">, </span>"2506003"<span style="color: #949494;">, </span>"3109008"<span style="color: #949494;">, </span>"67711008"…</span></span>
<span><span class="co">#&gt; $ concept_name  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Late onset dysthymia"<span style="color: #949494;">, </span>"Generalized neuromuscular exhau…</span></span>
<span><span class="co">#&gt; $ domain_id     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Condition"<span style="color: #949494;">, </span>"Condition"<span style="color: #949494;">, </span>"Condition"<span style="color: #949494;">, </span>"Condition"<span style="color: #949494;">, </span>"Con…</span></span>
<span><span class="co">#&gt; $ vocabulary_id <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "SNOMED"<span style="color: #949494;">, </span>"SNOMED"<span style="color: #949494;">, </span>"SNOMED"<span style="color: #949494;">, </span>"SNOMED"<span style="color: #949494;">, </span>"SNOMED"<span style="color: #949494;">, </span>"SNOME…</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edward Burn, Xihang Chen, Nuria Mercade-Besora.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
